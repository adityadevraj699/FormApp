<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Student Zone - OAS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<body style="min-height:100vh;display:flex;flex-direction:column;background-color:rgba(135,206,250,0.05);">

  <!-- Top Navbar -->
  <nav class="navbar navbar-expand-lg" style="background:linear-gradient(to right, rgb(0,81,195), rgb(15,106,3));">
    <a class="navbar-brand ms-3 fw-bold text-white" href="/Student/Dashboard">JavaX Pro</a>
    <div class="ms-auto me-3">
      <div class="dropdown">
        <a class="d-flex align-items-center text-white text-decoration-none dropdown-toggle fw-bold"
           href="#" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <!-- Profile Image + Name -->
<img th:if="${session.loggedInStudent.profileImage != null}"
     th:src="@{${session.loggedInStudent.profileImage}}"
     alt="profile"
     width="32" height="32"
     class="rounded-circle me-2" />

<!-- Default Avatar Fallback -->
<img th:if="${session.loggedInStudent.profileImage == null}"
     src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
     alt="profile"
     width="32" height="32"
     class="rounded-circle me-2" />

<span th:text="${session.loggedInStudent.name}">Student</span>

        </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
          <li><a class="dropdown-item" href="/Student/viewProfile"><i class="bi bi-person"></i> View Profile</a></li>
          <li><a class="dropdown-item" href="/Student/changePassword"><i class="bi bi-gear"></i> Change Password</a></li>
          <li><hr class="dropdown-divider" /></li>
          <li><a class="dropdown-item" href="/logout"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Layout -->
  <div class="d-flex flex-grow-1">
    <!-- Sidebar -->
    <div class="d-flex flex-column" 
         style="width:240px;background:linear-gradient(to bottom,rgb(0,81,195),rgb(15,106,3));color:#fff;min-height:100%;box-shadow:2px 0 8px rgba(0,0,0,0.2);">
      <h6 class="m-0 text-uppercase" 
          style="padding:15px;font-size:14px;letter-spacing:1px;border-bottom:1px solid rgba(255,255,255,0.2);">Student Menu</h6>
      
      <a href="/Student/Dashboard" class="text-white text-decoration-none" 
         style="padding:12px 18px;font-size:15px;display:block;"> 
         <i class="bi bi-speedometer2"></i> Dashboard</a>
      <a href="/Student/TotalProgram" class="text-white text-decoration-none" 
         style="padding:12px 18px;font-size:15px;display:block;"> 
         <i class="bi bi-diagram-3"></i> Total Program</a>
      <a href="/Student/EnrolledProgram" class="text-white text-decoration-none" 
         style="padding:12px 18px;font-size:15px;display:block;"> 
         <i class="bi bi-check2-circle"></i> Enrolled Program</a>
      <a href="/Student/Feedback" class="text-white text-decoration-none" 
         style="padding:12px 18px;font-size:15px;display:block;"> 
         <i class="bi bi-chat-square-text"></i> Feedback</a>
      <a href="/Student/HistoryFeedback" class="text-white text-decoration-none" 
         style="padding:12px 18px;font-size:15px;display:block;"> 
         <i class="bi bi-clock-history"></i> History Feedback</a>
    </div>

    <!-- Content Area -->
    <div class="flex-grow-1 p-4">
      <!-- यहाँ dynamic content load होगा -->
      <div th:replace="${content}"></div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="text-center" 
          style="background:#f8f9fa;padding:10px;border-top:2px solid rgb(0,81,195);font-weight:500;">
    <p class="mb-0">© 2025 JavaX Pro | Designed with <span class="text-danger">❤</span></p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
